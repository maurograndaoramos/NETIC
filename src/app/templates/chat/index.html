{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="container">
    <div class="sidebar">
        Chat List
        {{ active_users }}
            {% for chat in chats_list %}
                <div class="wrapper">
                    <div class="profimage">

                    </div>

                    <div class="cardChat">
                        {% for user in chat.users %}
                        <p>{{ users_list }}</p> <br>
                            {% if user in users_list %}
                                testssss
                            {% endif %}
                        {% endfor %}
                        <!-- {{chat}} -->
                        <p>{{ chat.messages|last }}</p>
                    </div>
                </div>
    
            {% endfor %}
    </div>
    <div class="chatcontainer"></div>

</div>








userchat
{% for chat in chats_list %}

<li> {{ chat }} </li>

{% endfor %}

<script>
    window.onload = () => {
        const chatSocket = new WebSocket(
            'ws://'
            + window.location.host
            + '/ws/chat/'
        );

        // Connection opened
        chatSocket.addEventListener("open", (event) => {
            console.log('client says connection opened')
        });

        // Connection closed
        chatSocket.addEventListener("close", (event) => {
            console.log('client says connection closed')
        });
    }
</script>

{% endblock %}